{-# LANGUAGE DeriveGeneric #-}
{-# LANGUAGE DuplicateRecordFields #-}
{-# LANGUAGE NamedFieldPuns #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE RecordWildCards #-}
{-# LANGUAGE StrictData #-}
{-# LANGUAGE NoImplicitPrelude #-}
{-# OPTIONS_GHC -fno-warn-unused-imports #-}
{-# OPTIONS_GHC -fno-warn-unused-matches #-}

-- Derived from AWS service descriptions, licensed under Apache 2.0.

-- |
-- Module      : Network.AWS.CodePipeline.Types.ThirdPartyJobData
-- Copyright   : (c) 2013-2021 Brendan Hay
-- License     : Mozilla Public License, v. 2.0.
-- Maintainer  : Brendan Hay <brendan.g.hay+amazonka@gmail.com>
-- Stability   : auto-generated
-- Portability : non-portable (GHC extensions)
module Network.AWS.CodePipeline.Types.ThirdPartyJobData where

import Network.AWS.CodePipeline.Types.AWSSessionCredentials
import Network.AWS.CodePipeline.Types.ActionConfiguration
import Network.AWS.CodePipeline.Types.ActionTypeId
import Network.AWS.CodePipeline.Types.Artifact
import Network.AWS.CodePipeline.Types.EncryptionKey
import Network.AWS.CodePipeline.Types.PipelineContext
import qualified Network.AWS.Core as Core
import qualified Network.AWS.Lens as Lens

-- | Represents information about the job data for a partner action.
--
-- /See:/ 'newThirdPartyJobData' smart constructor.
data ThirdPartyJobData = ThirdPartyJobData'
  { -- | Represents an AWS session credentials object. These credentials are
    -- temporary credentials that are issued by AWS Secure Token Service (STS).
    -- They can be used to access input and output artifacts in the S3 bucket
    -- used to store artifact for the pipeline in AWS CodePipeline.
    artifactCredentials :: Core.Maybe (Core.Sensitive AWSSessionCredentials),
    -- | The encryption key used to encrypt and decrypt data in the artifact
    -- store for the pipeline, such as an AWS Key Management Service (AWS KMS)
    -- key. This is optional and might not be present.
    encryptionKey :: Core.Maybe EncryptionKey,
    -- | Represents information about an action configuration.
    actionConfiguration :: Core.Maybe ActionConfiguration,
    -- | Represents information about an action type.
    actionTypeId :: Core.Maybe ActionTypeId,
    -- | The name of the artifact that is worked on by the action, if any. This
    -- name might be system-generated, such as \"MyApp\", or it might be
    -- defined by the user when the action is created. The input artifact name
    -- must match the name of an output artifact generated by an action in an
    -- earlier action or stage of the pipeline.
    inputArtifacts :: Core.Maybe [Artifact],
    -- | Represents information about a pipeline to a job worker.
    --
    -- Does not include @pipelineArn@ and @pipelineExecutionId@ for ThirdParty
    -- jobs.
    pipelineContext :: Core.Maybe PipelineContext,
    -- | A system-generated token, such as a AWS CodeDeploy deployment ID, that a
    -- job requires to continue the job asynchronously.
    continuationToken :: Core.Maybe Core.Text,
    -- | The name of the artifact that is the result of the action, if any. This
    -- name might be system-generated, such as \"MyBuiltApp\", or it might be
    -- defined by the user when the action is created.
    outputArtifacts :: Core.Maybe [Artifact]
  }
  deriving (Core.Eq, Core.Show, Core.Generic)

-- |
-- Create a value of 'ThirdPartyJobData' with all optional fields omitted.
--
-- Use <https://hackage.haskell.org/package/generic-lens generic-lens> or <https://hackage.haskell.org/package/optics optics> to modify other optional fields.
--
-- The following record fields are available, with the corresponding lenses provided
-- for backwards compatibility:
--
-- 'artifactCredentials', 'thirdPartyJobData_artifactCredentials' - Represents an AWS session credentials object. These credentials are
-- temporary credentials that are issued by AWS Secure Token Service (STS).
-- They can be used to access input and output artifacts in the S3 bucket
-- used to store artifact for the pipeline in AWS CodePipeline.
--
-- 'encryptionKey', 'thirdPartyJobData_encryptionKey' - The encryption key used to encrypt and decrypt data in the artifact
-- store for the pipeline, such as an AWS Key Management Service (AWS KMS)
-- key. This is optional and might not be present.
--
-- 'actionConfiguration', 'thirdPartyJobData_actionConfiguration' - Represents information about an action configuration.
--
-- 'actionTypeId', 'thirdPartyJobData_actionTypeId' - Represents information about an action type.
--
-- 'inputArtifacts', 'thirdPartyJobData_inputArtifacts' - The name of the artifact that is worked on by the action, if any. This
-- name might be system-generated, such as \"MyApp\", or it might be
-- defined by the user when the action is created. The input artifact name
-- must match the name of an output artifact generated by an action in an
-- earlier action or stage of the pipeline.
--
-- 'pipelineContext', 'thirdPartyJobData_pipelineContext' - Represents information about a pipeline to a job worker.
--
-- Does not include @pipelineArn@ and @pipelineExecutionId@ for ThirdParty
-- jobs.
--
-- 'continuationToken', 'thirdPartyJobData_continuationToken' - A system-generated token, such as a AWS CodeDeploy deployment ID, that a
-- job requires to continue the job asynchronously.
--
-- 'outputArtifacts', 'thirdPartyJobData_outputArtifacts' - The name of the artifact that is the result of the action, if any. This
-- name might be system-generated, such as \"MyBuiltApp\", or it might be
-- defined by the user when the action is created.
newThirdPartyJobData ::
  ThirdPartyJobData
newThirdPartyJobData =
  ThirdPartyJobData'
    { artifactCredentials =
        Core.Nothing,
      encryptionKey = Core.Nothing,
      actionConfiguration = Core.Nothing,
      actionTypeId = Core.Nothing,
      inputArtifacts = Core.Nothing,
      pipelineContext = Core.Nothing,
      continuationToken = Core.Nothing,
      outputArtifacts = Core.Nothing
    }

-- | Represents an AWS session credentials object. These credentials are
-- temporary credentials that are issued by AWS Secure Token Service (STS).
-- They can be used to access input and output artifacts in the S3 bucket
-- used to store artifact for the pipeline in AWS CodePipeline.
thirdPartyJobData_artifactCredentials :: Lens.Lens' ThirdPartyJobData (Core.Maybe AWSSessionCredentials)
thirdPartyJobData_artifactCredentials = Lens.lens (\ThirdPartyJobData' {artifactCredentials} -> artifactCredentials) (\s@ThirdPartyJobData' {} a -> s {artifactCredentials = a} :: ThirdPartyJobData) Core.. Lens.mapping Core._Sensitive

-- | The encryption key used to encrypt and decrypt data in the artifact
-- store for the pipeline, such as an AWS Key Management Service (AWS KMS)
-- key. This is optional and might not be present.
thirdPartyJobData_encryptionKey :: Lens.Lens' ThirdPartyJobData (Core.Maybe EncryptionKey)
thirdPartyJobData_encryptionKey = Lens.lens (\ThirdPartyJobData' {encryptionKey} -> encryptionKey) (\s@ThirdPartyJobData' {} a -> s {encryptionKey = a} :: ThirdPartyJobData)

-- | Represents information about an action configuration.
thirdPartyJobData_actionConfiguration :: Lens.Lens' ThirdPartyJobData (Core.Maybe ActionConfiguration)
thirdPartyJobData_actionConfiguration = Lens.lens (\ThirdPartyJobData' {actionConfiguration} -> actionConfiguration) (\s@ThirdPartyJobData' {} a -> s {actionConfiguration = a} :: ThirdPartyJobData)

-- | Represents information about an action type.
thirdPartyJobData_actionTypeId :: Lens.Lens' ThirdPartyJobData (Core.Maybe ActionTypeId)
thirdPartyJobData_actionTypeId = Lens.lens (\ThirdPartyJobData' {actionTypeId} -> actionTypeId) (\s@ThirdPartyJobData' {} a -> s {actionTypeId = a} :: ThirdPartyJobData)

-- | The name of the artifact that is worked on by the action, if any. This
-- name might be system-generated, such as \"MyApp\", or it might be
-- defined by the user when the action is created. The input artifact name
-- must match the name of an output artifact generated by an action in an
-- earlier action or stage of the pipeline.
thirdPartyJobData_inputArtifacts :: Lens.Lens' ThirdPartyJobData (Core.Maybe [Artifact])
thirdPartyJobData_inputArtifacts = Lens.lens (\ThirdPartyJobData' {inputArtifacts} -> inputArtifacts) (\s@ThirdPartyJobData' {} a -> s {inputArtifacts = a} :: ThirdPartyJobData) Core.. Lens.mapping Lens._Coerce

-- | Represents information about a pipeline to a job worker.
--
-- Does not include @pipelineArn@ and @pipelineExecutionId@ for ThirdParty
-- jobs.
thirdPartyJobData_pipelineContext :: Lens.Lens' ThirdPartyJobData (Core.Maybe PipelineContext)
thirdPartyJobData_pipelineContext = Lens.lens (\ThirdPartyJobData' {pipelineContext} -> pipelineContext) (\s@ThirdPartyJobData' {} a -> s {pipelineContext = a} :: ThirdPartyJobData)

-- | A system-generated token, such as a AWS CodeDeploy deployment ID, that a
-- job requires to continue the job asynchronously.
thirdPartyJobData_continuationToken :: Lens.Lens' ThirdPartyJobData (Core.Maybe Core.Text)
thirdPartyJobData_continuationToken = Lens.lens (\ThirdPartyJobData' {continuationToken} -> continuationToken) (\s@ThirdPartyJobData' {} a -> s {continuationToken = a} :: ThirdPartyJobData)

-- | The name of the artifact that is the result of the action, if any. This
-- name might be system-generated, such as \"MyBuiltApp\", or it might be
-- defined by the user when the action is created.
thirdPartyJobData_outputArtifacts :: Lens.Lens' ThirdPartyJobData (Core.Maybe [Artifact])
thirdPartyJobData_outputArtifacts = Lens.lens (\ThirdPartyJobData' {outputArtifacts} -> outputArtifacts) (\s@ThirdPartyJobData' {} a -> s {outputArtifacts = a} :: ThirdPartyJobData) Core.. Lens.mapping Lens._Coerce

instance Core.FromJSON ThirdPartyJobData where
  parseJSON =
    Core.withObject
      "ThirdPartyJobData"
      ( \x ->
          ThirdPartyJobData'
            Core.<$> (x Core..:? "artifactCredentials")
            Core.<*> (x Core..:? "encryptionKey")
            Core.<*> (x Core..:? "actionConfiguration")
            Core.<*> (x Core..:? "actionTypeId")
            Core.<*> (x Core..:? "inputArtifacts" Core..!= Core.mempty)
            Core.<*> (x Core..:? "pipelineContext")
            Core.<*> (x Core..:? "continuationToken")
            Core.<*> (x Core..:? "outputArtifacts" Core..!= Core.mempty)
      )

instance Core.Hashable ThirdPartyJobData

instance Core.NFData ThirdPartyJobData
